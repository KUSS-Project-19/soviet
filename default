server {
    listen 9001 ssl default_server;
    listen [::]:9001 ssl default_server;

    root /var/www/html;

    index index.html index.html;

    server_name _;                                  # your domain name
    ssl_certificate /etc/ssl/certs/selfsigned.crt;      # your HTTPS certificate
    ssl_certificate_key /etc/ssl/private/selfsigned.key;
    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
    ssl_ciphers HIGH:!aNULL:!MD5;

    location / {
            proxy_set_header X-Forwarded-For $remote_addr;
            proxy_set_header X-Forwarded-Host $host;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header Host $http_host;

            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            chunked_transfer_encoding off;
            proxy_buffering off;
            proxy_cache off;
            proxy_read_timeout 86400;
            keepalive_timeout 86400;

            proxy_pass http://localhost:8080;       # reverse proxy for nodejs program
    }
}
server {
    listen 9002 default_server;
    listen [::]:9002 default_server;

    root /var/www/html;

    index index.html index.html;

    server_name _;                                  # your domain name

    location / {
            proxy_set_header X-Forwarded-For $remote_addr;
            proxy_set_header X-Forwarded-Host $host;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header Host $http_host;

            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
            chunked_transfer_encoding off;
            proxy_buffering off;
            proxy_cache off;
            proxy_read_timeout 86400;
            keepalive_timeout 86400;

            proxy_pass http://localhost:8080;       # reverse proxy for nodejs program
    }
}